<!DOCTYPE html>
<meta charset="utf-8">
{% load static %}
<link href="{% static 'main.css' %}" rel="stylesheet">
<title>Visconti</title>
<script type="module" src="{% static 'main.js' %}"></script>
<body>
    <form>
        <input type="hidden" value="{{hostIP}}" id="hostIP">
        <input type="hidden" value="{{isHost}}" id="isHost">
    </form>
    <form> {% csrf_token %}
        <label>Username:<input id="username" name="username" maxlength="100" required></label>
        <button id="join">Join</button>
    </form>
    {% if isHost %}
    <form> {% csrf_token %}
        <button id="start" disabled>Start Match</button>
    </form>
    <p>
        Hosting match, others can play at http://{{hostIP}}:8000/join/
    </p>
    {% else %}
    <p>
        Playing in match, do not refresh the page.
    </p>
    {% endif %}
    <div id="main-divider">
        <div id="left-side">
            <div id="main-board">
                <h1>Day: <span id="day-counter"></span> Phase: <span id="phase-display"></span></h1>

                <div id="bid-view" class="hide">
                    <h2>Bids:<h2>
                    <div id="bid-boxes">

                    </div>
                </div>
                <div id="choose-display" class="hide">
                    <span class="player-name"></span> is choosing lots.
                </div>
                <div id="choose-form" class="hide">
                    Choose lots to bid on
                    <form>
                        <button id="draw">Draw Lot</button>
                        <button id="start-bid">Start Bidding</button>
                    </form>
                </div>
                <h1 id="winner" class="hide"></h1>
                
                <h2>Lots in deck: <span id="deck-counter"></span></h2>
                <h2>Lots in group:</h2>
                <div class="lot-container">

                </div>
            </div>
            <div id="pyramids">
                <table class="cloth">
                    <tbody>
                        <tr><th>20</th> <td></td></tr>
                        <tr><th>10</th> <td></td></tr>
                        <tr><th>5</th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                    </tbody>
                </table>
                <table class="dye">
                    <tbody>
                        <tr><th>20</th> <td></td></tr>
                        <tr><th>10</th> <td></td></tr>
                        <tr><th>5</th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                    </tbody>
                </table>
                <table class="furs">
                    <tbody>
                        <tr><th>20</th> <td></td></tr>
                        <tr><th>10</th> <td></td></tr>
                        <tr><th>5</th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                    </tbody>
                </table>
                <table class="grain">
                    <tbody>
                        <tr><th>20</th> <td></td></tr>
                        <tr><th>10</th> <td></td></tr>
                        <tr><th>5</th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                    </tbody>
                </table>
                <table class="spice">
                    <tbody>
                        <tr><th>20</th> <td></td></tr>
                        <tr><th>10</th> <td></td></tr>
                        <tr><th>5</th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                        <tr><th></th> <td></td></tr>
                    </tbody>
                </table>
            </div>
            <div id="rules">
                Scoring rules
            </div>
        </div>
        <div id="players">
            
        </div>
    </div>
    <div class="hide">
        <div id="prefab-lot" class="lot">
            0
        </div>

        <div id="prefab-bid-box" class="bid-box">
            <span class="player-name"></span> <span class="bid"></span>
        </div>

        <div id="prefab-bid-form" class="bid-form">
            <form> {% csrf_token %}
                <label>Bid:<input class="bid-input" type="number" min="1" step="1" required></label>
                <button class="bid-button">Place Bid</button>
                <button class="pass-button">Pass</button>
            </form>
        </div>

        <div id="prefab-player-box" class="player-box">
            <h2><span class="player-name"></span>: <span class="player-money"></span></h2>
            <div class="lot-container"></div>
        </div>
    </div>
</body>